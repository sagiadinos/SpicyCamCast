export class SpicyBase{#t=.8;#e=!1;#i=null;#s=null;#r=[];constructor(t){this.#i=t,this.#i.width=this.#i.width||640,this.#i.height=this.#i.height||360}get videoElement(){return this.#i}set isMirror(t){this.#e=t}get isMirror(){return this.#e}set settings(t){this.#s=t}get settings(){return this.#s}get streamList(){return this.#r}set streamList(t){this.#r=t}stop(){this.#r.forEach((t=>{t.getTracks().forEach((t=>{t.stop()}))})),this.videoElement.srcObject=null}capturePhoto(t){return this.capturePhotoAsJpeg(t)}capturePhotoAsPng(t){return(t=this.#h(t)).toDataURL("image/png")}capturePhotoAsJpeg(t){return(t=this.#h(t)).toDataURL("image/jpeg",this.#t)}capturePhotoAsWebp(t){return(t=this.#h(t)).toDataURL("image/webp",this.#t)}#h(t){t.height=this.#s.height,t.width=this.#s.width;let e=t.getContext("2d");return this.#e&&(e.translate(t.width,0),e.scale(-1,1)),e.clearRect(0,0,t.width,t.height),e.drawImage(this.#i,0,0,t.width,t.height),t}}